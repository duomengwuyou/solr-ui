/*! create by 2015-11-26*/ 
function restoreRow(a,b){for(var c=a.fnGetData(b),d=$(">td",b),e=0,f=d.length;f>e;e++)a.fnUpdate(c[e],b,e,!1);a.fnDraw()}function editRow(a,b){var c=a.fnGetData(b),d=$(">td",b);d[0].innerHTML='<input type="text" value="'+c[0]+'">',d[1].innerHTML='<input type="text" value="'+c[1]+'">',d[2].innerHTML='<input type="text" value="'+c[2]+'">',d[3].innerHTML='<input type="text" value="'+c[3]+'">',d[4].innerHTML='<input type="text" value="'+c[4]+'">',d[5].innerHTML='<a class="edit-row" href="javascript:void(0)">保存</a>'}function saveRow(a,b){var c=$("input",b);a.fnUpdate(c[0].value,b,0,!1),a.fnUpdate(c[1].value,b,1,!1),a.fnUpdate(c[2].value,b,2,!1),a.fnUpdate(c[3].value,b,3,!1),a.fnUpdate(c[4].value,b,4,!1),a.fnUpdate('<a class="edit-row" href="javascript:void(0)">编辑</a>',b,5,!1),a.fnDraw()}$(document).ready(function(){var a=$("#datatable-editable").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[-2,-1]}]}),b=null;$("#add-row").click(function(c){c.preventDefault();var d=a.fnAddData(["","","","","",'<a class="edit-row" href="javascript:void(0)">编辑</a>','<a class="delete-row" href="javascript:void(0)">删除</a>']),e=a.fnGetNodes(d[0]);editRow(a,e),b=e}),$("#datatable-editable").on("click","a.delete-row",function(b){b.preventDefault();var c=$(this).parents("tr")[0];a.fnDeleteRow(c)}),$("#datatable-editable").on("click","a.edit-row",function(c){c.preventDefault();var d=$(this).parents("tr")[0];null!==b&&b!=d?(restoreRow(a,b),editRow(a,d),b=d):b==d&&"保存"==this.innerHTML?(saveRow(a,b),b=null):(editRow(a,d),b=d)})});